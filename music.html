<!DOCTYPE html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="assets/last.fm.api.js"></script>
<script type="text/javascript" src="assets/lastfm.api.md5.js"></script>
<script type="text/javascript" src="assets/lastfm.api.cache.js"></script>
<head>
	<title>Arjun Munji</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<meta charset="UTF-8">
	<meta name="description" content="Arjun Munji">
	<meta name="keywords" content="Arjun,Munji,KMIT">
	<meta name="author" content="Arjun Munji">
  	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  	<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
  	<link rel="apple-touch-icon-precomposed" sizes="57x57" href="favicons/apple-touch-icon-57x57.png" />
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="favicons/apple-touch-icon-114x114.png" />
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="favicons/apple-touch-icon-72x72.png" />
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="favicons/apple-touch-icon-144x144.png" />
	<link rel="apple-touch-icon-precomposed" sizes="60x60" href="favicons/apple-touch-icon-60x60.png" />
	<link rel="apple-touch-icon-precomposed" sizes="120x120" href="favicons/apple-touch-icon-120x120.png" />
	<link rel="apple-touch-icon-precomposed" sizes="76x76" href="favicons/apple-touch-icon-76x76.png" />
	<link rel="apple-touch-icon-precomposed" sizes="152x152" href="favicons/apple-touch-icon-152x152.png" />
	<link rel="icon" type="image/png" href="favicons/favicon-196x196.png" sizes="196x196" />
	<link rel="icon" type="image/png" href="favicons/favicon-96x96.png" sizes="96x96" />
	<link rel="icon" type="image/png" href="favicons/favicon-32x32.png" sizes="32x32" />
	<link rel="icon" type="image/png" href="favicons/favicon-16x16.png" sizes="16x16" />
	<link rel="icon" type="image/png" href="favicons/favicon-128.png" sizes="128x128" />
	<meta name="application-name" content="&nbsp;"/>
	<meta name="msapplication-TileColor" content="#FFFFFF" />
	<meta name="msapplication-TileImage" content="favicons/mstile-144x144.png" />
	<meta name="msapplication-square70x70logo" content="favicons/mstile-70x70.png" />
	<meta name="msapplication-square150x150logo" content="favicons/mstile-150x150.png" />
	<meta name="msapplication-wide310x150logo" content="favicons/mstile-310x150.png" />
	<meta name="msapplication-square310x310logo" content="favicons/mstile-310x310.png" />
</head>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59108954-2', 'auto');
  ga('send', 'pageview');

</script>
<style type="text/css">
	/*p{
		font-size: 1.5em;
		line-height: 1.8em;
	}*/
	body
	{
		font-family:'Open Sans',sans-serif;
	}
	body{
		/*margin: 1.5em;*/
		text-decoration: none;
	}
	.footer
	{
		vertical-align: center;
		text-align: center;
		opacity: .8;
		font-size: 1.2em;
		padding-top: 5em;
	}
	.footer a
	{
		color: black;
	}
	.footer a:hover
	{
		text-decoration: none;
	}
</style>
<script type="text/javascript">
var me='arjun1894'
var cache = new LastFMCache();
var lastfm = new LastFM({
  apiKey    : 'f21088bf9097b49ad4e7f487abab981e',
  apiSecret : '7ccaec2093e33cded282ec7bc81c6fca',
  cache     : cache
});



lastfm.user.getRecentTracks({user: me}, {success: function(data){
	//console.log("success");
	// console.log(data);
	for(i=0;i<10;i++)
	{
		// var track= document.createElement('p');
		// var album= document.createElement('p');
		// var artist= document.createElement('p');
	document.getElementById("content").innerHTML=document.getElementById("content").innerHTML+'</br>'+(i+1)+ ".<strong>&nbsp;"+data.recenttracks.track[i].name+"</strong>";
	if(data.recenttracks.track[i].album["#text"]==null)
	{
		break;
	}
	else{
	document.getElementById("content").innerHTML=document.getElementById("content").innerHTML+'</br><i>from&nbsp;</i><strong>'+data.recenttracks.track[i].album["#text"]+"</strong>";
	}

	document.getElementById("content").innerHTML=document.getElementById("content").innerHTML+'</br><i>by&nbsp;</i><strong>'+data.recenttracks.track[i].artist["#text"]+'</strong>';
	document.getElementById("content").innerHTML=document.getElementById("content").innerHTML+'</br></br>'

	document.getElementById("content").innerHTML=document.getElementById("content").innerHTML+'<a href="'+data.recenttracks.track[i].url+'"><img align="center" src="'+data.recenttracks.track[i].image[3]["#text"]+'"></a>'
	 // var image = document.createElement('img'+i);
	 // document.getElementById("cover"+i).appendChild(image);
	 // image.src = "data:recenttracks.track[i].image[i]/png;base64," + data.recenttracks.track[i].image[1]["#text"];
	document.getElementById("content").innerHTML=document.getElementById("content").innerHTML+'</br></br>'
	document.getElementById("content").innerHTML=document.getElementById("content").innerHTML+'</br></br>'
	};
}, error: function(code, message){
console.log(code);
console.log(message);
}});

lastfm.user.getWeeklyTrackChart({user: me}, {success: function(data){
	// console.log(data);
	// var numberOfTracks = data.weeklytrackchart.track.length;
	// console.log(numberOfTracks);
	for (var i = 0; i < data.weeklytrackchart.track.length; i++) {
		// console.log("loop entered");
		// console.log(i);
		document.getElementById('trackTable').innerHTML=document.getElementById('trackTable').innerHTML+'<tr><td><strong>&nbsp;'+data.weeklytrackchart.track[i].name+'</strong></td><td><strong>&nbsp;'+data.weeklytrackchart.track[i].artist['#text']+'</strong></td><td><strong>&nbsp;'+data.weeklytrackchart.track[i].playcount+'</strong></td></tr>';
		// if (data.weeklytrackchart.track[i].playcount > 1) {
		// 	document.getElementById("weekly").innerHTML=document.getElementById("weekly").innerHTML+'played&nbsp;'+data.weeklytrackchart.track[i].playcount+'&nbsp;times</li>';
		// }
		// else {
		// 	document.getElementById("weekly").innerHTML=document.getElementById("weekly").innerHTML+'played&nbsp;'+data.weeklytrackchart.track[i].playcount+'&nbsp;time</li>';
		// }
		// document.getElementById("weekly").innerHTML=document.getElementById("weekly").innerHTML+'<a href="'+data.weeklytrackchart.track[i].url+'"><img align="center" src="'+data.weeklytrackchart.track[i].image[2]["#text"]+'"></a>'
		// document.getElementById("weekly").innerHTML=document.getElementById("weekly").innerHTML+data.weeklytrackchart;
	}
}, error: function(code, message){
	console.log(code);
	console.log(message);
}});

// lastfm.user.getTopTracks({user: me}, {success: function(data){
// 	console.log(data);
//
// }, error: function(code, message){
// 	console.log(code);
// 	console.log(message);
// }});

lastfm.user.getTopArtists({user: me}, {success: function(data)
{
	// console.log("success");
	console.log(data);
	for(i=0;i<10;i++)
	{
		document.getElementById("artist").innerHTML=document.getElementById("artist").innerHTML+'</br>'+'<strong>'+data.topartists.artist[i].name+'</strong> &mdash; ';
		document.getElementById("artist").innerHTML=document.getElementById("artist").innerHTML+'<strong>'+data.topartists.artist[i].playcount+'</strong> plays.';
	}
},
error: function(code, message)
{
	console.log(code);
	console.log(message);
}
});

</script>
<body>
<div class="container-fluid" id="fullpage">
	<div class="row">
		<div class="col-sm-3"></div>
		<div class="col-sm-6" align="center">
			<h1>What I'm listening to.<br/>
			<small>recent tracks</small></h1>
		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row">
		<div class="col-sm-3"></div>
		<div class="col-sm-6">
			<p id="content" align="center"></p>
		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row">
		<div class="col-sm-3"></div>
		<div class="col-sm-6" align="center">
			<h1><small>Weekly Top Tracks</small></h1>
			<table class="table table-striped table-hover">
				<thead>
					<tr>
						<th>
							Name
						</th>
						<th>
							Artist
						</th>
						<th>
							Plays
						</th>
					</tr>
				</thead>
				<tbody id="trackTable">

				</tbody>
			</table>
		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row">
		<div class="col-sm-3"></div>
		<div class="col-sm-6" align="center">
			<h1><small>Artists I like</small></h1>
			<p id="artist"></p>
		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row">
		<div class="col-sm-3"></div>
		<div class="col-sm-6" align="center" >
			<p class="footer">&copy; 2015 <a href="http://arjun.ninja">Arjun Munji</a> | Hosted on GitHub &#x1f497;</p>
		</div>
		<div class="col-sm-3"></div>
	</div>
</div>
</body>
</html>
